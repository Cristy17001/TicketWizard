<?php
declare(strict_types=1);
?>

<?php function drawNav(User $user, $db, String $selected){ ?>
    <main>
        <nav class="nav-bar">
            <ul>
                <?php if($user->whatPermission($db)=='Client' || $user->whatPermission($db)== 'Agent' || $user->whatPermission($db)=='Admin') drawNavClient($selected);?>
                <?php if($user->whatPermission($db)=='Agent' || $user->whatPermission($db)=='Admin') drawNavAgent($selected); ?>
                <?php if($user->whatPermission($db)=='Admin') drawNavAdmin($selected); ?>

                <?php $selectedBool='false'; if($selected=='profile') $selectedBool='true'; ?>
                <li class="nav-item unselectable" selected= <?= $selectedBool?>>
                    <a href="../pages/profile.php">
                        <div class="option-container">
                            <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g id="Iconly/Curved/Profile">
                                    <g id="Profile">
                                        <path id="Stroke 1" fill-rule="evenodd" clip-rule="evenodd" d="M11.8445 21.6618C8.15273 21.6618 5 21.0873 5 18.7865C5 16.4858 8.13273 14.3618 11.8445 14.3618C15.5364 14.3618 18.6891 16.4652 18.6891 18.766C18.6891 21.0658 15.5564 21.6618 11.8445 21.6618Z" />
                                        <path id="Stroke 3" fill-rule="evenodd" clip-rule="evenodd" d="M11.8372 11.1735C14.26 11.1735 16.2236 9.2099 16.2236 6.78718C16.2236 4.36445 14.26 2.3999 11.8372 2.3999C9.41452 2.3999 7.44998 4.36445 7.44998 6.78718C7.4418 9.20172 9.3918 11.1654 11.8063 11.1735C11.8172 11.1735 11.8272 11.1735 11.8372 11.1735Z"/>
                                    </g>
                                </g>
                            </svg>
                            <p>Profile</p>
                        </div>
                    </a>
                </li>
                <?php if($user->whatPermission($db)=='Agent' || $user->whatPermission($db)=='Admin' || $user->whatPermission($db)== 'Client') drawNavFaq($selected); ?>
                <?php if($user->whatPermission($db)=='Agent' || $user->whatPermission($db)=='Admin' || $user->whatPermission($db)== 'Client') drawNavAbout($selected); ?>

            </ul>
            <div class="user-info unselectable">
                <div class="square">
                    <img src="<?= $user->image ?>" alt="user_image">
                </div>
                <div>
                    <p class="name"><?php echo $user->fullName?></p>
                    <p class="role"><?php echo $user->whatPermission($db) ?></p>
                </div>
                <a href='../actions/actionlogout.php'>
                    <svg class="log-out" fill="#000000" width="50" height="50" viewBox="0 0 24 24"
                         xmlns="http://www.w3.org/2000/svg"><path d="M16 13v-2H7V8l-5 4 5 4v-3z"/><path d="M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"/></svg>
                </a>
            </div>
        </nav>
<?php } ?>

<?php function drawNavClient(String $selected){ ?>
    <?php $selectedBool='false'; if($selected=='client') $selectedBool='true'; ?>
    <li class="nav-item unselectable" selected = <?php echo $selectedBool ?>>
        <a href='../pages/client.php'>
            <div class="option-container">
                <svg xmlns="http://www.w3.org/2000/svg" fill="#000000" width="50px" height="50px"
                     viewBox="0 0 16 16"><path d="M8 .5A7.77 7.77 0 0 0 0 8a7.77 7.77 0 0 0 8 7.5A7.77 7.77 0 0 0 16 8 7.77 7.77 0 0 0 8 .5zM5.16 13.67A2.84 2.84 0 0 1 8 11.51a2.82 2.82 0 0 1 2.84 2.16 7.24 7.24 0 0 1-5.68 0zm6.84-.61a4.09 4.09 0 0 0-4-2.77 4.09 4.09 0 0 0-3.95 2.78A6.14 6.14 0 0 1 1.25 8 6.52 6.52 0 0 1 8 1.75 6.52 6.52 0 0 1 14.75 8 6.11 6.11 0 0 1 12 13.06z"/><path d="M8.05 4.3A2.33 2.33 0 0 0 5.8 6.7a2.33 2.33 0 0 0 2.25 2.4 2.33 2.33 0 0 0 2.25-2.4 2.33 2.33 0 0 0-2.25-2.4zm0 3.55a1.08 1.08 0 0 1-1-1.15 1.08 1.08 0 0 1 1-1.15 1.08 1.08 0 0 1 1 1.15 1.08 1.08 0 0 1-1 1.15z"/>
                </svg>
                <p>Client</p>
            </div>
        </a>
    </li>
<?php } ?>


<?php function drawNavAgent(String $selected){ ?>
    <?php $selectedBool='false'; if($selected=='agent') $selectedBool='true'; ?>
    <li class="nav-item unselectable" selected =<?php echo $selectedBool ?>>
        <a href='../pages/agent.php'>
            <div class="option-container">
                <svg width="50" height="50" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M47.625 21C49.5171 22.0895 51.0512 23.7061 52.0404 25.6525C53.0295 27.599 53.4309 29.7912 53.1955 31.9618C52.9602 34.1325 52.0983 36.1877 50.715 37.8769C49.3316 39.5661 47.4866 40.8163 45.405 41.475C44.6693 44.8137 42.8154 47.801 40.1504 49.9423C37.4853 52.0837 34.1688 53.2506 30.75 53.25H25.125C24.6277 53.25 24.1508 53.0525 23.7992 52.7008C23.4476 52.3492 23.25 51.8723 23.25 51.375C23.25 50.8777 23.4476 50.4008 23.7992 50.0492C24.1508 49.6975 24.6277 49.5 25.125 49.5H30.75C33.0773 49.5007 35.3476 48.7798 37.2482 47.4366C39.1488 46.0934 40.5862 44.194 41.3625 42H40.125C39.6277 42 39.1508 41.8025 38.7992 41.4508C38.4476 41.0992 38.25 40.6223 38.25 40.125V21.375C38.25 20.8777 38.4476 20.4008 38.7992 20.0492C39.1508 19.6975 39.6277 19.5 40.125 19.5H42C42.6075 19.5 43.2038 19.5488 43.7888 19.6425C43.3666 15.4833 41.4157 11.6289 38.314 8.82608C35.2122 6.02322 31.1805 4.47147 27 4.47147C22.8195 4.47147 18.7878 6.02322 15.6861 8.82608C12.5843 11.6289 10.6334 15.4833 10.2113 19.6425C10.8028 19.5478 11.4009 19.5001 12 19.5H13.875C14.3723 19.5 14.8492 19.6975 15.2008 20.0492C15.5525 20.4008 15.75 20.8777 15.75 21.375V40.125C15.75 40.6223 15.5525 41.0992 15.2008 41.4508C14.8492 41.8025 14.3723 42 13.875 42H12C9.5212 42.0028 7.11087 41.1867 5.14351 39.6787C3.17616 38.1708 1.76194 36.0552 1.12058 33.6608C0.479216 31.2664 0.646628 28.7272 1.5968 26.4377C2.54697 24.1482 4.22671 22.2367 6.37502 21C6.37502 15.5299 8.548 10.2839 12.4159 6.41592C16.2839 2.54798 21.5299 0.375 27 0.375C32.4701 0.375 37.7162 2.54798 41.5841 6.41592C45.452 10.2839 47.625 15.5299 47.625 21ZM12 23.25C10.0109 23.25 8.10324 24.0402 6.69672 25.4467C5.29019 26.8532 4.50002 28.7609 4.50002 30.75C4.50002 32.7391 5.29019 34.6468 6.69672 36.0533C8.10324 37.4598 10.0109 38.25 12 38.25V23.25ZM49.5 30.75C49.5 28.7609 48.7098 26.8532 47.3033 25.4467C45.8968 24.0402 43.9891 23.25 42 23.25V38.25C43.9891 38.25 45.8968 37.4598 47.3033 36.0533C48.7098 34.6468 49.5 32.7391 49.5 30.75Z" fill="white"/>
                </svg>
                <p>Agent</p>
            </div>
        </a>
    </li>
<?php } ?>

<?php function drawNavAdmin(String $selected){ ?>
    <?php $selectedBool='false'; if($selected=='admin') $selectedBool='true'; ?>
    <li class="nav-item unselectable" selected =<?php echo $selectedBool ?>>
        <a href='../pages/admin.php'>
            <div class="option-container">
                <svg width="50" height="50" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.1328 6.46698C16.0945 5.75131 15.3631 5.87307 14.6494 5.87307C15.1766 6.01347 15.6753 6.20881 16.1328 6.46698Z" fill="white"/>
                    <path d="M8.50433 4.67342C5.7339 4.67342 4.45871 8.18006 6.67341 9.94372C7.4284 7.92776 8.93136 6.48025 10.9017 5.90891C10.3627 5.16378 9.49189 4.67342 8.50433 4.67342Z" fill="white"/>
                    <path d="M2.78056 9.39494C2.89346 9.75723 3.03975 10.1048 3.21353 10.4341L2.30347 11.3446C2.05908 11.589 2.05908 11.9857 2.30347 12.2306L3.90757 13.8352C4.0244 13.952 4.18446 14.0178 4.35128 14.0178C4.51628 14.0178 4.67526 13.952 4.79411 13.8352L5.70315 12.9247C5.83957 12.9968 5.99079 13.0411 6.13207 13.1034C6.13207 13.093 6.13106 13.0823 6.13106 13.0719C6.13106 12.3278 6.21653 11.6258 6.36869 10.9667C5.27114 10.2603 4.53878 9.03417 4.53878 7.63425C4.53878 5.44749 6.31761 3.66816 8.50387 3.66816C9.98425 3.66816 11.2624 4.4923 11.9447 5.69637C12.6731 5.60604 13.3574 5.60604 14.181 5.76168C14.0751 5.44117 13.9504 5.1275 13.7943 4.83348L14.7043 3.92248C14.823 3.80515 14.8888 3.64559 14.8888 3.47971C14.8888 3.31377 14.823 3.15428 14.7043 3.03695L13.1011 1.43335C12.9785 1.31065 12.8184 1.24978 12.6584 1.24978C12.4983 1.24978 12.3383 1.31065 12.2166 1.43335L11.3036 2.34436C10.9738 2.16963 10.6273 2.02335 10.2641 1.91291V0.625836C10.2641 0.280299 9.98526 0 9.63872 0H7.37003C7.02544 0 6.74362 0.280299 6.74362 0.625836V1.91285C6.3814 2.02328 6.03478 2.16957 5.70398 2.34429L4.79411 1.4343C4.67135 1.3116 4.51135 1.25072 4.35128 1.25072C4.19128 1.25072 4.03034 1.3116 3.90858 1.4338L2.30347 3.03739C2.18665 3.15523 2.1209 3.31421 2.1209 3.48066C2.1209 3.64705 2.18665 3.8061 2.30347 3.92342L3.21353 4.83392C3.03968 5.16378 2.89347 5.51084 2.78258 5.87306H1.49652C1.14997 5.87306 0.870117 6.1538 0.870117 6.49985V8.7686C0.870117 9.11363 1.14997 9.39494 1.49652 9.39494H2.78056Z" fill="white"/>
                    <path d="M22.4333 21.5347C23.4367 20.9844 24.1258 19.9311 24.1258 18.7088C24.1258 16.925 22.6739 15.4742 20.8902 15.4742C20.2629 15.4742 19.6816 15.6616 19.1849 15.9718C18.8875 17.1558 18.4192 18.2882 17.8066 19.2718C19.5432 19.5983 21.1365 20.3891 22.4333 21.5347Z" fill="white"/>
                    <path d="M29.1289 17.4847C29.1289 17.1112 28.8255 16.8088 28.4534 16.8088H27.0654C26.9455 16.4175 26.7865 16.0425 26.598 15.6867L27.5806 14.7041C27.7083 14.5774 27.7789 14.4056 27.7789 14.2265C27.7789 14.0472 27.7083 13.8754 27.5806 13.7484L25.8509 12.0181C25.7194 11.886 25.5456 11.8197 25.3729 11.8197C25.2001 11.8197 25.0273 11.886 24.8958 12.0181L23.9111 13.0012C23.5557 12.8127 23.1817 12.6547 22.789 12.5354V11.1473C22.789 10.7742 22.4876 10.4718 22.1146 10.4718H19.6672C19.5032 10.4718 19.3589 10.5376 19.2412 10.6348C19.4473 11.3867 19.5602 12.2021 19.5602 13.0719C19.5602 13.6241 19.5171 14.1847 19.4365 14.7422C19.892 14.5743 20.3769 14.4689 20.8904 14.4689C23.2288 14.4689 25.1313 16.371 25.1313 18.7088C25.1313 20.203 24.3509 21.5126 23.1797 22.268C24.0319 23.2026 24.7093 24.3114 25.1501 25.5537C25.2226 25.5787 25.2982 25.597 25.3738 25.597C25.5466 25.597 25.7194 25.5312 25.8519 25.3991L27.5827 23.6688C27.7094 23.5421 27.7791 23.3704 27.7791 23.1912C27.7791 23.0121 27.7094 22.8403 27.5827 22.7131L26.5981 21.73C26.7866 21.3746 26.9456 20.9995 27.0654 20.6079H28.4535C28.6321 20.6079 28.8059 20.5372 28.9316 20.4095C29.0582 20.2833 29.1299 20.1111 29.1299 19.9319L29.1289 17.4847Z" fill="white"/>
                    <path d="M23.771 26.1654C22.7214 23.0774 19.9482 20.9536 16.7469 20.6645C15.6748 21.7997 14.3476 22.5199 12.8445 22.5199C11.3425 22.5199 10.0142 21.7998 8.94325 20.6645C5.73998 20.9536 2.96664 23.0774 1.91713 26.1659L1.337 27.8736C1.17106 28.3649 1.25052 28.9064 1.55294 29.328C1.8553 29.7497 2.34226 30 2.86056 30H22.8275C23.3468 30 23.8337 29.7497 24.1362 29.328C24.4375 28.9064 24.518 28.3649 24.3511 27.8736L23.771 26.1654Z" fill="white"/>
                    <path d="M7.63867 13.0719C7.63867 16.9021 9.97026 21.012 12.8446 21.012C15.7201 21.012 18.0516 16.9021 18.0516 13.0719C18.0516 5.13237 7.63867 5.11663 7.63867 13.0719Z" fill="white"/>
                </svg>
                <p>Admin</p>
            </div>
        </a>
    </li>
<?php } ?>


<?php function drawNavFaq(String $selected){ ?>
    <?php $selectedBool='false'; if($selected=='faq') $selectedBool='true'; ?>
    <li class="nav-item unselectable" selected =<?php echo $selectedBool ?>>
        <a href='../pages/faq.php'>
            <div class="option-container">
                <svg fill="#000000" width="50" height="50" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12,22A10,10,0,1,0,2,12,10,10,0,0,0,12,22Zm0-2a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,12,20ZM8,8.994a3.907,3.907,0,0,1,2.319-3.645,4.061,4.061,0,0,1,3.889.316,4,4,0,0,1,.294,6.456,3.972,3.972,0,0,0-1.411,2.114,1,1,0,0,1-1.944-.47,5.908,5.908,0,0,1,2.1-3.2,2,2,0,0,0-.146-3.23,2.06,2.06,0,0,0-2.006-.14,1.937,1.937,0,0,0-1.1,1.8A1,1,0,0,1,8,9Z"/></svg>
                <p>FAQ</p>
            </div>
        </a>
    </li>
<?php } ?>

<?php function drawNavAbout(String $selected){ ?>
    <?php $selectedBool='false'; if($selected=='about') $selectedBool='true'; ?>
    <li class="nav-item unselectable" selected=<?php echo $selectedBool ?>>
        <a href="../pages/about.php">
            <div class="option-container">
                <svg width="50" height="50" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <title>about-filled</title>
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="drop" fill="#000000" transform="translate(42.666667, 42.666667)">
                            <path d="M213.333333,3.55271368e-14 C331.154987,3.55271368e-14 426.666667,95.51168 426.666667,213.333333 C426.666667,331.153707 331.154987,426.666667 213.333333,426.666667 C95.51296,426.666667 3.55271368e-14,331.153707 3.55271368e-14,213.333333 C3.55271368e-14,95.51168 95.51296,3.55271368e-14 213.333333,3.55271368e-14 Z M234.713387,192 L192.04672,192 L192.04672,320 L234.713387,320 L234.713387,192 Z M213.55008,101.333333 C197.99616,101.333333 186.713387,112.5536 186.713387,127.704107 C186.713387,143.46752 197.698773,154.666667 213.55008,154.666667 C228.785067,154.666667 240.04672,143.46752 240.04672,128 C240.04672,112.5536 228.785067,101.333333 213.55008,101.333333 Z" id="Shape">

                            </path>
                        </g>
                    </g>
                </svg>
                <p>About</p>
            </div>
        </a>
    </li>
<?php } ?>

