<?php declare(strict_types=1);?>

<?php function drawFaqQuestions(User $user, $questions, $db){ ?>
    <div class="main-content">
        <div class="faq-container">
            <div class="header-help">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_42_427)">
                        <path d="M17.9903 18.17C17.9932 17.557 18.1962 16.9617 18.5684 16.4746C19.0701 15.8289 19.6423 15.2413 20.2744 14.7226C20.8447 14.2321 21.3676 13.689 21.8361 13.1005C22.1308 12.6871 22.2834 12.1893 22.2712 11.6818C22.2782 11.3711 22.2225 11.0621 22.1074 10.7734C21.9924 10.4847 21.8203 10.2221 21.6014 10.0014C21.3826 9.78068 21.1215 9.60639 20.8338 9.48885C20.546 9.37132 20.2376 9.31296 19.9268 9.31733C19.3065 9.3113 18.707 9.54074 18.2492 9.95933C17.7159 10.4732 17.3269 11.1181 17.1213 11.8296L14.5771 10.7195C14.9007 9.48067 15.6155 8.37938 16.6153 7.57947C17.6018 6.83778 18.8101 6.45153 20.0438 6.48353C20.9823 6.47376 21.9095 6.68903 22.7476 7.11131C23.5465 7.51249 24.2213 8.12345 24.6995 8.87875C25.1844 9.64782 25.4357 10.541 25.423 11.4501C25.4334 12.2688 25.2129 13.074 24.787 13.7733C24.2485 14.5961 23.5961 15.3384 22.8493 15.9781C22.2791 16.4619 21.7427 16.984 21.2438 17.541C20.9577 17.8687 20.7987 18.2882 20.7957 18.7232C20.8038 18.9899 20.8435 19.2545 20.914 19.5118H18.313C18.1102 19.0929 18.0001 18.6353 17.9903 18.17ZM19.7246 26.4078C19.4276 26.4153 19.1322 26.3623 18.8564 26.252C18.5806 26.1416 18.3302 25.9762 18.1203 25.7659C17.9069 25.5574 17.7389 25.3071 17.6268 25.0306C17.5147 24.7541 17.4609 24.4575 17.4689 24.1592C17.4619 23.8588 17.516 23.5601 17.628 23.2813C17.74 23.0024 17.9075 22.7493 18.1203 22.5372C18.3282 22.3232 18.5779 22.1544 18.854 22.0413C19.13 21.9282 19.4264 21.8733 19.7246 21.8799C20.0247 21.8735 20.3229 21.9282 20.6011 22.0408C20.8793 22.1534 21.1316 22.3214 21.3428 22.5347C21.554 22.7479 21.7195 23.0019 21.8293 23.2812C21.9391 23.5605 21.9909 23.8593 21.9815 24.1592C21.9895 24.4573 21.9358 24.7539 21.8239 25.0304C21.7121 25.3068 21.5443 25.5572 21.3313 25.7659C21.1209 25.9762 20.8701 26.1415 20.5939 26.2518C20.3177 26.3622 20.022 26.4152 19.7246 26.4078Z" fill="white"/>
                        <path d="M1.74265 39.9326C1.4868 39.9324 1.23413 39.8759 1.00257 39.7671C0.701793 39.6284 0.44731 39.406 0.269529 39.1266C0.0917485 38.8471 -0.00180995 38.5224 2.65258e-05 38.1912V4.29392C0.0012782 3.1743 0.446602 2.10085 1.23829 1.30916C2.02998 0.517471 3.10338 0.0721745 4.223 0.0709229H35.7771C36.8967 0.0721745 37.9701 0.517471 38.7618 1.30916C39.5535 2.10085 39.9988 3.1743 40 4.29392V28.4305C39.9985 29.5499 39.553 30.6231 38.7613 31.4145C37.9697 32.2059 36.8965 32.6511 35.7771 32.6524H12.1653C11.4579 32.6526 10.7729 32.9011 10.23 33.3546L2.85278 39.5259C2.54179 39.7873 2.1489 39.9312 1.74265 39.9326ZM4.223 2.43541C3.73029 2.43603 3.25794 2.63202 2.90954 2.98042C2.56114 3.32882 2.36514 3.80121 2.36451 4.29392V36.8505L8.71315 31.5411C9.68178 30.7323 10.9034 30.2888 12.1653 30.2879H35.7771C36.2697 30.2876 36.742 30.0918 37.0904 29.7436C37.4389 29.3954 37.6349 28.9231 37.6355 28.4305V4.29392C37.6349 3.80121 37.4389 3.32882 37.0905 2.98042C36.7421 2.63202 36.2698 2.43603 35.7771 2.43541H4.223Z" fill="white"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_42_427">
                            <rect width="40" height="40" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
                <div class="title-container">
                    <h1>Need help?</h1>
                    <p>See some solutions</p>
                </div>
            </div>
            <div class="faq-questions">
                <?php foreach($questions as $question) { ?>
                <div class="question">
                        <div class="title-remove">
                            <h2><?=$question['title'] ?></h2>
                            <?php if($user->whatPermission($db)=='Agent' || $user->whatPermission($db)== 'Admin') drawButtons();?>
                        </div>
                        <p><?=$question['response'] ?></p>
                </div>
                <span></span>
                <?php } ?>
            </div>
        </div>
        <?php if($user->whatPermission($db)=='Agent' || $user->whatPermission($db)== 'Admin') drawAddQuestion();?>
    </div>
<?php } ?>

<?php function drawButtons(){ ?>
    <?php echo '<div class = buttons>
        <button class="copy-btn" link="faq.html" id="Faq-question1">
            <svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 24 24" fill="none">
                <path d="M15 3C16.8856 3 17.8284 3 18.4142 3.58579C19 4.17157 19 5.11438 19 7L19 17C19 18.8856 19 19.8284 18.4142 20.4142C18.4142 20.4142 18.4142 20.4142 18.4142 20.4142C17.8284 21 16.8856 21 15 21V21L9 21V21C7.11438 21 6.17157 21 5.58579 20.4142C5 19.8284 5 18.8856 5 17L5 7C5 5.11438 5 4.17157 5.58579 3.58579C5.58579 3.58579 5.58579 3.58579 5.58579 3.58579C6.17157 3 7.11438 3 9 3V3L15 3V3Z" stroke="#323232" stroke-width="2" stroke-linejoin="round"/>
                <path d="M9 3V6C9 7.10457 9.89543 8 11 8H13C14.1046 8 15 7.10457 15 6V3" stroke="#323232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="copy-msg">Copy link!</span>
            <span class="copied-msg">Link copied âœ”</span>
        </button>
        <button class="remove-btn">
            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.5 12.5V21.25M12.5 12.5V21.25M7.5 7.5V22.25C7.5 23.6501 7.5 24.3498 7.77249 24.8845C8.01216 25.3549 8.39434 25.7381 8.86475 25.9777C9.399 26.25 10.0987 26.25 11.4961 26.25H18.5039C19.9012 26.25 20.6 26.25 21.1343 25.9777C21.6046 25.7381 21.9881 25.3549 22.2277 24.8845C22.5 24.3503 22.5 23.6513 22.5 22.2539V7.5M7.5 7.5H10M7.5 7.5H5M22.5 7.5H20M22.5 7.5H25M10 7.5H20M10 7.5C10 6.33515 10 5.75301 10.1903 5.29357C10.444 4.68101 10.9304 4.19404 11.543 3.9403C12.0024 3.75 12.5851 3.75 13.75 3.75H16.25C17.4149 3.75 17.9972 3.75 18.4567 3.9403C19.0692 4.19404 19.5559 4.68101 19.8096 5.29357C19.9999 5.753 20 6.33515 20 7.5" stroke="#001AFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>
    </div>'; ?>
<?php } ?>

<?php function drawAddQuestion(){ ?>
    <?php echo '<div class="add-card">
            <h2>ADD QUESTION</h2>
            <form class="add-question">
                <label for="title">TITLE:</label>
                <input id="title" type="text" placeholder="Enter a title...">
                <label for="solution">SOLUTION:</label>
                <textarea id="solution" name="solution" placeholder="Enter a solution..."></textarea>
                <button>Submit</button>
            </form>
        </div>'; ?>
<?php } ?>

